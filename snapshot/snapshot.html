<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
  <title>Chief Bud - Veteran Housing Navigator</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Overpass:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap" rel="stylesheet">

</head>
<body>
  <div class="container">
    <img class="chief-bud" src="images/ChiefBud0421.png" alt="Chief Bud Character">
    <img class="chief-bud" src="images/iPhone 16 Pro Max - 1.png" alt="Chief Bud Character">
 
    <h1>Chief Bud - Veteran Housing Navigator</h1>

    <h2 class="mission">üëã Thanks for checking out Chief Bud.</h2>
    <p class="blurb">We're not collecting your data ‚Äî we're collecting your input. This isn't a finished product yet.</p> <p class="blurb">We're building the Custom Snapshot feature now, and your answers will help make sure it actually works for veterans like you and myself.</p><p class="blurb">A working prototype will be ready soon ‚Äî and if you‚Äôre interested, you can be one of the first to try it.</p>

    <div class="form-container">
      <div class="card" id="form-card">
        <div class="card-header">
          <h1 class="card-title">Custom Snapshot</h1>
          <p class="card-description">Help us understand your needs to so that we can make the right thing.</p>
          <div class="progress-steps">
            <div class="step-indicator active" data-step="1">1</div>
            <div class="step-indicator" data-step="2">2</div>
            <div class="step-indicator" data-step="3">3</div>
          </div>
        </div>
        
        <form id="snapshot-form" method="POST" action="https://formspree.io/f/xjkwjewd">
          <div class="card-content">
            <div id="error-message" class="error-message"></div>
            
            <!-- Step 1 -->
            <div class="step-content active" data-step="1">
              <div class="form-group">
                <h3 class="form-title">What kind of VA housing resources are you looking for now or in the near future?</h3>
                <p class="form-subtitle">Check all that apply</p>
                
                <div class="checkbox-group">
                  <div class="checkbox-item">
                    <input type="checkbox" id="emergency" name="housing_option_emergency">
                    <label class="checkbox-label" for="emergency">Emergency or transitional housing</label>
                  </div>
                  
                  <div class="checkbox-item">
                    <input type="checkbox" id="rent" name="housing_option_rent">
                    <label class="checkbox-label" for="rent">Rent help / vouchers</label>
                  </div>
                  
                  <div class="checkbox-item">
                    <input type="checkbox" id="va-loan" name="housing_option_va-loan">
                    <label class="checkbox-label" for="va-loan">Buying a home with a VA loan</label>
                  </div>
                  
                  <div class="checkbox-item">
                    <input type="checkbox" id="building" name="housing_option_building">
                    <label class="checkbox-label" for="building">Building a home</label>
                  </div>
                  
                  <div class="checkbox-item">
                    <input type="checkbox" id="other" name="housing_option_other">
                    <label class="checkbox-label" for="other">Something else</label>
                  </div>
                </div>
                
                <div id="other-input" class="other-input">
                  <label class="form-label" for="other-text">Please describe what kind of housing help you're looking for</label>
                  <input type="text" id="other-text" name="other_housing_text" placeholder="Describe your housing needs...">
                  <p class="form-hint">Your specific needs will help us build a better experience.</p>
                </div>
              </div>
              

            
            <!-- Step 2 -->
            <div class="step-content" data-step="2">
              <div class="form-group">
                <h3 class="form-title">What would you want your Custom Snapshot to show you?</h3>
                <p class="form-subtitle">Example: "What benefits I qualify for," "How to apply," "Step-by-step process," etc.</p>
                <textarea id="snapshot-preference" name="snapshot_preference" placeholder="Tell us what you'd like to see..."></textarea>
              </div>
            </div>
            
            <!-- Step 3 -->
            <div class="step-content" data-step="3">
              <div class="form-group">
                <h3 class="form-title">Want to see the prototype when it's ready?</h3>
                <p class="form-subtitle">We'll email you early access ‚Äî no spam, ever.</p>
                <input type="email" id="prototype-email" name="prototype_email" placeholder="Your email address">
              </div>
              
              <!-- Hidden fields to ensure all data is submitted -->
              <input type="hidden" name="housing_options" id="housing-options-hidden">
            </div>
          </div>
          
          <div class="card-footer">
            <button type="button" id="prev-button" class="button button-outline" style="visibility: hidden;">
              <span class="button-icon">‚Üê</span> Back
            </button>
            
            <button type="button" id="next-button" class="button button-primary">
              Next <span class="button-icon">‚Üí</span>
            </button>
            
            <button type="submit" id="submit-button" class="button button-primary" style="display: none;">
              Submit
            </button>
          </div>
        </form>
      </div>
      
      <!-- Success Card (initially hidden) -->
      <div class="card" id="success-card" style="display: none;">
        <div class="card-header">
          <h1 class="card-title" style="text-align: center;">Thank You!</h1>
          <p class="card-description" style="text-align: center;">Your response has been submitted successfully.</p>
        </div>
        
        <div class="success-container">
          <div class="success-icon">‚úì</div>
          <p id="success-message" class="form-subtitle" style="text-align: center;"></p>
        </div>
      </div>
    </div>
    
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Elements
        const form = document.getElementById('snapshot-form');
        const formCard = document.getElementById('form-card');
        const successCard = document.getElementById('success-card');
        const errorMessage = document.getElementById('error-message');
        const successMessage = document.getElementById('success-message');
        const prevButton = document.getElementById('prev-button');
        const nextButton = document.getElementById('next-button');
        const submitButton = document.getElementById('submit-button');
        const stepIndicators = document.querySelectorAll('.step-indicator');
        const stepContents = document.querySelectorAll('.step-content');
        const otherCheckbox = document.getElementById('other');
        const otherInput = document.getElementById('other-input');
        const housingOptionsHidden = document.getElementById('housing-options-hidden');
        
        // State
        let currentStep = 1;
        const totalSteps = 3;
        
        // Initialize
        updateStepVisibility();
        
        // Event listeners
        prevButton.addEventListener('click', goToPreviousStep);
        nextButton.addEventListener('click', goToNextStep);
        otherCheckbox.addEventListener('change', toggleOtherInput);
        form.addEventListener('submit', handleSubmit);
        
        // Functions
        function updateStepVisibility() {
          // Update step indicators
          stepIndicators.forEach(indicator => {
            const step = parseInt(indicator.dataset.step);
            indicator.classList.remove('active', 'completed');
            
            if (step === currentStep) {
              indicator.classList.add('active');
            } else if (step < currentStep) {
              indicator.classList.add('completed');
            }
          });
          
          // Update step content visibility
          stepContents.forEach(content => {
            const step = parseInt(content.dataset.step);
            content.classList.toggle('active', step === currentStep);
          });
          
          // Update buttons
          prevButton.style.visibility = currentStep > 1 ? 'visible' : 'hidden';
          
          if (currentStep === totalSteps) {
            nextButton.style.display = 'none';
            submitButton.style.display = 'inline-flex';
          } else {
            nextButton.style.display = 'inline-flex';
            submitButton.style.display = 'none';
          }
        }
        
        function goToPreviousStep() {
          if (currentStep > 1) {
            currentStep--;
            updateStepVisibility();
          }
        }
        
        function goToNextStep() {
          if (currentStep < totalSteps) {
            currentStep++;
            updateStepVisibility();
          }
        }
        
        function toggleOtherInput() {
          otherInput.style.display = otherCheckbox.checked ? 'block' : 'none';
        }
        
        function getSelectedHousingOptions() {
          const checkboxes = document.querySelectorAll('input[name^="housing_option_"]:checked');
          const options = Array.from(checkboxes).map(checkbox => checkbox.id);
          return options;
        }
        
        function updateHiddenFields() {
          housingOptionsHidden.value = getSelectedHousingOptions().join(', ');
        }
        
        async function handleSubmit(e) {
          e.preventDefault();
          
          // Update hidden fields before submission
          updateHiddenFields();
          
          // Disable submit button and show loading state
          submitButton.disabled = true;
          submitButton.textContent = 'Submitting...';
          errorMessage.style.display = 'none';
          
          try {
            const formData = new FormData(form);
            
            const response = await fetch('https://formspree.io/f/xjkwjewd', {
              method: 'POST',
              body: formData,
              headers: {
                'Accept': 'application/json'
              }
            });
            
            if (response.ok) {
              // Show success message
              formCard.style.display = 'none';
              successCard.style.display = 'block';
              
              // Add email to success message if provided
              const prototypeEmail = document.getElementById('prototype-email').value;
              if (prototypeEmail) {
                successMessage.textContent = "We'll email you early access to the prototype. No spam, ever.";
              }
            } else {
              const data = await response.json();
              throw new Error(data.error || 'Form submission failed. Please try again.');
            }
          } catch (error) {
            // Show error message
            errorMessage.textContent = error.message || 'Network error. Please check your connection and try again.';
            errorMessage.style.display = 'block';
            
            // Re-enable submit button
            submitButton.disabled = false;
            submitButton.textContent = 'Submit';
          }
        }
      });
    </script>
   
      </div>
    </div>
  </div>
</body>
</html>
